<!doctype html>
<html lang="en">
  <head>
    <title>واژه پیدا 1.0</title>
    <script>
      async function body_loaded(){
        var pwd = prompt('Password?');
        if(!pwd)return;
        else{
          pwd = pwd.trim();
          if(!pwd)return;
        }

        var resp = await fetch(location.origin+'/book1/'+pwd+'.json');
        console.log(resp);
        var roleData = await resp.json();
        console.log(roleData);

        document.getElementsByTagName('MAIN')[0].hidden = false;
      }
      function search(){
        document.getElementById('result').innerHTML = 'درنگ نمایید ...';        
        var word = document.getElementById('word').value;
        //google.script.run.withSuccessHandler(onSuccess).getWord(word);
        var k = Object.keys(shekar).indexOf(word);
        if(k != -1)document.getElementById('result').innerHTML = JSON.stringify(shekar[word]);
      }
      function clearResult(){
         document.getElementById('result').innerHTML = ''; 
      }      
    </script>
    <script src="Shekar.js"></script>
    <style>
      body{
        font-family:system-ui;
        direction:rtl;
      }
    </style>
  </head>
  <body onload="body_loaded()">
    <header>
      <h1>واژه پیدا 1.0</h1>
    </header>
    <main hidden>
      <form style="direction:rtl;font-family:system-ui;font-size:x-large">
        <label for="word">واژه:</label>
        <input id="word" size="15" oninput="clearResult()" style="direction:rtl;font-family:system-ui;font-size:large">
        <input type="button" value="بیاب" onclick="search()" style="font-family:system-ui;font-size:large">
        <p id="result"></p>
      </form>      
    </main>
  </body>
</html>
